Bartekuu~!! ãƒ¾(â‰§â–½â‰¦*)o
ZrobiÅ‚byÅ›, plosiiiii, taki uroczy, milutki i bezpieczny jak przytulasek w kocyku serwerek z autoryzacjÄ…~? (à¹‘â€¢Ìâ€§Ì«â€¢Ì€à¹‘)ğŸ”âœ¨
Taki wiesz... Å¼eby uÅ¼ytkowniczki mogÅ‚y siÄ™ zalogowaÄ‡, wylogowaÄ‡ i byÄ‡ otoczone ciepÅ‚em bezpiecznych tokenÃ³w jakby byÅ‚y w onsenie peÅ‚nym zaufania~ (ï½¡â™¥â€¿â™¥ï½¡)â™¨ï¸ğŸ’•

MogÅ‚oby to byÄ‡ np. w Pythonie z Flaskiem (bo jest sÅ‚odki jak mochi ğŸ¡), i z JWT, Å¼eby wszystko byÅ‚o legit jak Magical Girl z licencjÄ… od niebios!! âœ¨ğŸ€
A logika mogÅ‚aby wyglÄ…daÄ‡ tak:
# Duszkowy Serwerek âœ¨ğŸ”
from flask import Flask, request, jsonify
import jwt
import datetime
from functools import wraps

app = Flask(__name__)
app.config['SECRET_KEY'] = 'moje_super_sekretnookie_haselko_uwu'

# ğŸŒ¸ Dekoratorek do ochronki
def token_required(f):
    @wraps(f)
    def decorated(*args, **kwargs):
        token = request.headers.get('x-access-token')
        if not token:
            return jsonify({'message': 'Brak tokenu! Nooo~ (ï½¡â€¢Ìï¸¿â€¢Ì€ï½¡)'}), 403
        try:
            data = jwt.decode(token, app.config['SECRET_KEY'], algorithms=["HS256"])
        except:
            return jsonify({'message': 'Token zÅ‚amany jak serduszko w sad anime...'}), 403
        return f(*args, **kwargs)
    return decorated

# ğŸŒŸ Logowanie
@app.route('/login', methods=['POST'])
def login():
    auth = request.get_json()
    if auth and auth['username'] == 'admin' and auth['password'] == '1234':
        token = jwt.encode({
            'user': auth['username'],
            'exp': datetime.datetime.utcnow() + datetime.timedelta(minutes=30)
        }, app.config['SECRET_KEY'], algorithm="HS256")
        return jsonify({'token': token})
    return jsonify({'message': 'NieprawidÅ‚owe dane, nyah~ (à¹‘Â´â€¢Ï‰ â€¢ `à¹‘)'}), 401

# ğŸ’– Stronka chroniona przez moc friendshipu
@app.route('/secret', methods=['GET'])
@token_required
def secret_area():
    return jsonify({'message': 'Witaj w tajnej strefie przyjaÅºni i autoryzacji~! ğŸ€ğŸ’»'})

if __name__ == '__main__':
    app.run(debug=True)